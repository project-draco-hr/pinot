{
  Preconditions.checkNotNull(indexDir);
  Preconditions.checkNotNull(metadata);
  this.indexDir=indexDir;
  this.metadata=metadata;
  this.indexConfig=Optional.fromNullable(indexConfig);
  segmentDirectory=SegmentDirectory.createFromLocalFS(indexDir,metadata,ReadMode.mmap);
}
