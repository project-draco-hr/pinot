{
  if ((flowJson.getJSONArray(AGGREGATION_RESULTS).length() == 0) && !refJson.has(AGGREGATION_RESULTS)) {
    return true;
  }
  if (_compareNumDocs && !compareNumDocsScanned(flowJson,refJson)) {
    return false;
  }
  JSONArray flowAggregation=flowJson.getJSONArray(AGGREGATION_RESULTS);
  if (flowAggregation.length() == 0) {
    return true;
  }
  if (flowAggregation.getJSONObject(0).has(GROUP_BY_RESULT)) {
    return compareAggregationGroupBy(flowJson,refJson);
  }
  JSONArray refAggregation=refJson.getJSONArray(AGGREGATION_RESULTS);
  return compareAggregationArrays(flowAggregation,refAggregation);
}
