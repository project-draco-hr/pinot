{
  if (node.isLeaf()) {
    collector.add(node);
  }
 else {
    StarTreeNode target;
    String queryDimensionValue=query.getDimensionKey().getDimensionValue(config.getDimensions(),node.getChildDimensionName());
    if (StarTreeConstants.STAR.equals(queryDimensionValue)) {
      target=node.getStarNode();
    }
 else     if (StarTreeConstants.OTHER.equals(queryDimensionValue)) {
      target=node.getOtherNode();
    }
 else {
      target=node.getChild(queryDimensionValue);
    }
    if (target == null) {
      target=node.getOtherNode();
    }
    findAll(target,query,collector);
    if (target != node.getStarNode()) {
      findAll(node.getStarNode(),query,collector);
    }
  }
}
