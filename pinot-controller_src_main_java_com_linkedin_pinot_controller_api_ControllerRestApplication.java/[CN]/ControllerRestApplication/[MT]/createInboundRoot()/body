{
  final Router router=new Router(getContext());
  router.setDefaultMatchingMode(Template.MODE_EQUALS);
  router.attach("/tenants",PinotTenantRestletResource.class);
  router.attach("/tenants/",PinotTenantRestletResource.class);
  router.attach("/tenants/{tenantName}",PinotTenantRestletResource.class);
  router.attach("/tenants/{tenantName}/",PinotTenantRestletResource.class);
  router.attach("/tenants/{tenantName}/instances",PinotTenantRestletResource.class);
  router.attach("/schemas",PinotSchemaResletResource.class);
  router.attach("/schemas/",PinotSchemaResletResource.class);
  router.attach("/schemas/{schemaName}",PinotSchemaResletResource.class);
  router.attach("/tables",PinotTableRestletResource.class);
  router.attach("/tables/",PinotTableRestletResource.class);
  router.attach("/tables/{tableName}",PinotTableRestletResource.class);
  router.attach("/tables/{tableName}/instances",PinotTableInstances.class);
  router.attach("/tables/{tableName}/schema",PinotTableSchema.class);
  router.attach("/tables/{tableName}/schema/",PinotTableSchema.class);
  router.attach("/tables/{tableName}/segments",PinotSegmentResletResource.class);
  router.attach("/tables/{tableName}/segments/{segmentName}",PinotSegmentResletResource.class);
  router.attach("/tables/{tableName}/segmentsConfigs",PinotTableSegmentConfigs.class);
  router.attach("/tables/{tableName}/indexingConfigs",PinotTableIndexingConfigs.class);
  router.attach("/tables/{tableName}/tenantConfigs",PinotTableTenantConfigs.class);
  router.attach("/tables/{tableName}/metadataConfigs",PinotTableMetadataConfigs.class);
  router.attach("/segments",PinotSegmentUploadRestletResource.class);
  router.attach("/segments/",PinotSegmentUploadRestletResource.class);
  router.attach("/segments/{tableName}",PinotSegmentUploadRestletResource.class);
  router.attach("/segments/{tableName}/{segmentName}",PinotSegmentUploadRestletResource.class);
  router.attach("/instances",PinotInstance.class);
  router.attach("/instances/",PinotInstance.class);
  router.attach("/instances/{instanceName}",PinotInstance.class);
  router.attach("/instances/{instanceName}/",PinotInstance.class);
  router.attach("/pinot-controller/admin",PinotControllerHealthCheck.class);
  router.attach("/pql",PqlQueryResource.class);
  final Restlet mainpage=new Restlet(){
    @Override public void handle(    Request request,    Response response){
      final StringBuilder stringBuilder=new StringBuilder();
      stringBuilder.append("<html>");
      stringBuilder.append("<head><title>Restlet Cluster Management page</title></head>");
      stringBuilder.append("<body bgcolor=white>");
      stringBuilder.append("<table border=\"0\">");
      stringBuilder.append("<tr>");
      stringBuilder.append("<td>");
      stringBuilder.append("<h1>Rest cluster management interface V1</h1>");
      stringBuilder.append("</td>");
      stringBuilder.append("</tr>");
      stringBuilder.append("</table>");
      stringBuilder.append("</body>");
      stringBuilder.append("</html>");
      response.setEntity(new StringRepresentation(stringBuilder.toString(),MediaType.TEXT_HTML));
    }
  }
;
  final Directory webdir=new Directory(getContext(),CONSOLE_WEBAPP_ROOT_PATH);
  webdir.setDeeplyAccessible(true);
  router.attach("/query",webdir);
  return router;
}
