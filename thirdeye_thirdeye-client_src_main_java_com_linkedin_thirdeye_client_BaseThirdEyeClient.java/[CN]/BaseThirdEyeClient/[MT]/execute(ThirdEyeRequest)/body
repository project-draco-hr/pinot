{
  ThirdEyeRawResponse rawResponse=getRawResponse(request);
  StarTreeConfig starTreeConfig=getStarTreeConfig(request.getCollection());
  Map<String,MetricType> metricTypes=new HashMap<>();
  for (  MetricSpec metricSpec : starTreeConfig.getMetrics()) {
    String metricName=metricSpec.getName();
    MetricType metricType=metricSpec.getType();
    metricTypes.put(metricName,metricType);
  }
  List<MetricType> projectionTypes=new ArrayList<>();
  for (  String metricName : rawResponse.getMetrics()) {
    MetricType metricType=metricTypes.get(metricName);
    projectionTypes.add(metricType);
  }
  return rawResponse.convert(projectionTypes);
}
