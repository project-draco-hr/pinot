{
  final CustomModeISBuilder customModeIdealStateBuilder=new CustomModeISBuilder(resource.getResourceName());
  final int replicas=resource.getNumberOfCopies();
  customModeIdealStateBuilder.setStateModel(PinotHelixSegmentOnlineOfflineStateModelGenerator.PINOT_SEGMENT_ONLINE_OFFLINE_STATE_MODEL).setNumPartitions(0).setNumReplica(replicas).setMaxPartitionsPerNode(1);
  final IdealState idealState=customModeIdealStateBuilder.build();
  idealState.setInstanceGroupTag(resource.getResourceName());
  return idealState;
}
