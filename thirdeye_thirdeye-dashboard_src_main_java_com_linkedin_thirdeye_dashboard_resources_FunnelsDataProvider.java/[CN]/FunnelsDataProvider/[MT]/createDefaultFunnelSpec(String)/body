{
  CollectionSchema collectionSchema=dataCache.getCollectionSchema(serverUri,collection);
  if (collectionSchema == null) {
    return null;
  }
  FunnelSpec defaultSpec=new FunnelSpec();
  defaultSpec.setName(DEFAULT_FUNNEL_NAME);
  defaultSpec.setVisulizationType(DEFAULT_FUNNEL_VISUALIZATION_TYPE);
  List<String> metricAliases=collectionSchema.getMetricAliases();
  List<String> metrics=collectionSchema.getMetrics();
  LinkedList<String> defaultFunnelMetrics=new LinkedList<>();
  for (int i=0; i < metricAliases.size(); i++) {
    String metricAlias=metricAliases.get(i);
    String metric=metrics.get(i);
    metricAlias=metricAlias == null ? metric : metricAlias;
    String defaultFunnelMetric=String.format("%s=%s",metricAlias,metric);
    defaultFunnelMetrics.add(defaultFunnelMetric);
  }
  defaultSpec.setMetrics(defaultFunnelMetrics);
  return defaultSpec;
}
