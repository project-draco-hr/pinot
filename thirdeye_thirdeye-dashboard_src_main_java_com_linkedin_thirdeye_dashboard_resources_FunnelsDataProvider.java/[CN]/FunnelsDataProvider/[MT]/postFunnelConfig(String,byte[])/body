{
  File collectionDir=new File(funnelsRoot,collection);
  if (!collectionDir.exists()) {
    FileUtils.forceMkdir(collectionDir);
  }
  File funnelConfigFile=new File(collectionDir,FUNNELS_CONFIG_FILE_NAME);
  if (!funnelConfigFile.exists()) {
    IOUtils.copy(new ByteArrayInputStream(funnelConfigBytes),new FileOutputStream(funnelConfigFile));
  }
 else {
    throw new ConflictException(funnelConfigFile.getPath() + " already exists. A DELETE of /funnels/{collection} is required first");
  }
  loadConfigs();
  return Response.ok().build();
}
