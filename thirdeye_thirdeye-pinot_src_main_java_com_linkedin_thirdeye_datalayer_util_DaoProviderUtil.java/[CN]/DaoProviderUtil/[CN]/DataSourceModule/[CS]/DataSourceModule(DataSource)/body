{
  this.dataSource=dataSource;
  entityMappingHolder=new EntityMappingHolder();
  try (Connection conn=dataSource.getConnection()){
    entityMappingHolder.register(conn,AnomalyFeedback.class,convertCamelCaseToUnderscore(AnomalyFeedback.class.getName()));
    entityMappingHolder.register(conn,AnomalyFunction.class,convertCamelCaseToUnderscore(AnomalyFunction.class.getName()));
    entityMappingHolder.register(conn,Job.class,convertCamelCaseToUnderscore(Job.class.getName()));
    entityMappingHolder.register(conn,MergedAnomalyResult.class,convertCamelCaseToUnderscore(MergedAnomalyResult.class.getName()));
    entityMappingHolder.register(conn,RawAnomalyResult.class,convertCamelCaseToUnderscore(RawAnomalyResult.class.getName()));
    entityMappingHolder.register(conn,Task.class,convertCamelCaseToUnderscore(Task.class.getName()));
    entityMappingHolder.register(conn,EmailConfiguration.class,convertCamelCaseToUnderscore(EmailConfiguration.class.getName()));
    entityMappingHolder.register(conn,WebappConfig.class,convertCamelCaseToUnderscore(WebappConfig.class.getName()));
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  builder=new SqlQueryBuilder(entityMappingHolder);
  genericResultSetMapper=new GenericResultSetMapper(entityMappingHolder);
}
