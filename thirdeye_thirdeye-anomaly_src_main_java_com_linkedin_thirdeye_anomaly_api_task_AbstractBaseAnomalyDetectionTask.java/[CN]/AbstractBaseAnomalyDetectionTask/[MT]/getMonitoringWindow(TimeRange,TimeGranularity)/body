{
  if (minMonitoringTimeGranularity == null) {
    return monitoringInterval;
  }
  long minMonitoringWindowMillis=TimeGranularityUtils.toMillis(minMonitoringTimeGranularity);
  long monitoringIntervalMillis=monitoringInterval.getEnd() - monitoringInterval.getStart();
  if (minMonitoringWindowMillis > monitoringIntervalMillis) {
    return new TimeRange(monitoringInterval.getEnd() - minMonitoringWindowMillis,monitoringInterval.getEnd());
  }
 else {
    return monitoringInterval;
  }
}
