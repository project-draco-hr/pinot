{
  ByteBuffer buffer;
  if (useDirect) {
    buffer=ByteBuffer.allocateDirect(size);
  }
 else {
    buffer=ByteBuffer.allocate(size);
  }
  return buffer;
}
