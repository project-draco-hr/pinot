{
synchronized (sync) {
    ByteBuffer buffer=getBuffer();
    compactBuffer(buffer);
    List<StarTreeRecord> records=new LinkedList<StarTreeRecord>();
    buffer.rewind();
    while (buffer.position() < buffer.limit()) {
      records.add(getRecord(buffer));
    }
    return records.iterator();
  }
}
