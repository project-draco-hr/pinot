{
  List<String> matchedResources=new ArrayList<String>();
  String resourceName=BrokerRequestUtils.getOfflineResourceNameForResource(request.getQuerySource().getResourceName());
  if (_routingTable.findServers(new RoutingTableLookupRequest(resourceName)) != null) {
    matchedResources.add(resourceName);
  }
  resourceName=BrokerRequestUtils.getRealtimeResourceNameForResource(request.getQuerySource().getResourceName());
  if (_routingTable.findServers(new RoutingTableLookupRequest(resourceName)) != null) {
    matchedResources.add(resourceName);
  }
  if (matchedResources.isEmpty()) {
    resourceName=request.getQuerySource().getResourceName();
    if (_routingTable.findServers(new RoutingTableLookupRequest(resourceName)) != null) {
      matchedResources.add(resourceName);
    }
  }
  return matchedResources;
}
