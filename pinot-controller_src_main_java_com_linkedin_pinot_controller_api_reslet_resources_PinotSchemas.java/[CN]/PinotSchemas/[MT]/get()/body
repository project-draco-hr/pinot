{
  try {
    final String schemaName=(String)getRequest().getAttributes().get("schemaName");
    if (schemaName != null) {
      LOGGER.info("looking for schema {}",schemaName);
      Schema schema=manager.getSchema(schemaName);
      LOGGER.info("schema string is : " + schema.getJSONSchema());
      return new StringRepresentation(schema.getJSONSchema());
    }
 else {
      List<String> schemaNames=manager.getSchemaNames();
      JSONArray ret=new JSONArray();
      for (      String schema : schemaNames) {
        ret.put(schema);
      }
      return new StringRepresentation(ret.toString());
    }
  }
 catch (  Exception e) {
    return PinotFileUpload.exceptionToStringRepresentation(e);
  }
}
