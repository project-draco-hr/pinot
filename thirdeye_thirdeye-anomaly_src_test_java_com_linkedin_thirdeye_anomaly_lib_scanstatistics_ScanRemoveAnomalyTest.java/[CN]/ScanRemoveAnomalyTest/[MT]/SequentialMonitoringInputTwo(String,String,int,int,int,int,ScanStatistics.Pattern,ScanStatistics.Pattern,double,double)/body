{
  int[] columns={1};
  double[] series=GetData(filename,columns);
  double[] deseasonal_series=new double[series.length];
  long[] timestamps=new long[series.length];
  for (int ii=0; ii < series.length; ii++) {
    timestamps[ii]=ii;
  }
  ScanStatisticsAnomalyDetectionFunction.removeMissingValuesByAveragingNeighbors(series);
  double[][] data=STLTest.removeSeasonality(timestamps,series,168,1,15,0.75,0.10,true);
  double[] data_trend=data[0];
  double[] data_remainder=data[1];
  for (int ii=0; ii < series.length; ii++) {
    deseasonal_series[ii]=data_trend[ii] + data_remainder[ii];
  }
  System.out.println("seasonality removed." + series.length);
  File file=new File("deseasonal.csv");
  OutputStream fop=new FileOutputStream(file);
  BufferedWriter writer=new BufferedWriter(new OutputStreamWriter(fop));
  for (  double element : deseasonal_series) {
    writer.write(Double.toString(element));
    writer.newLine();
  }
  writer.close();
  SequentialMonitoring(deseasonal_series,outputFilename,training_size,monitor_size,scan_size,numSims,target_pattern,complementary_pattern,target_level,complementary_level);
}
