{
  DateTime expireDate=new DateTime().minusDays(days);
  Timestamp expireTimestamp=new Timestamp(expireDate.getMillis());
  List<JobDTO> anomalyJobSpecs=getEntityManager().createQuery(FIND_BY_STATUS_AND_LAST_MODIFIED_TIME_LT_EXPIRE,entityClass).setParameter("expireTimestamp",expireTimestamp).setParameter("status",status).getResultList();
  for (  JobDTO anomalyJobSpec : anomalyJobSpecs) {
    deleteById(anomalyJobSpec.getId());
  }
  return anomalyJobSpecs.size();
}
