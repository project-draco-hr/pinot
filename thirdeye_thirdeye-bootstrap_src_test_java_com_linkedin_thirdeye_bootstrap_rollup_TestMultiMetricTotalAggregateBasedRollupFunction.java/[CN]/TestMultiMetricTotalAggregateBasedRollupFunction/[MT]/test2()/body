{
  MetricTimeSeries series=generateSeries();
  Map<String,String> thresholdFuncParams=Maps.newHashMap();
  thresholdFuncParams.put("metricNames","metric1,metric2,metric3");
  thresholdFuncParams.put("thresholdExpr","(metric1 > 5000 || metric2 > 5000 || metric3 > 0)");
  MultiMetricTotalAggregateBasedRollupFunction func=new MultiMetricTotalAggregateBasedRollupFunction(thresholdFuncParams);
  Assert.assertTrue(func.isAboveThreshold(series));
}
