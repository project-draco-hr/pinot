{
  StarTree starTree=manager.getStarTree(collection);
  if (starTree == null) {
    throw new IllegalArgumentException("No collection " + collection);
  }
  if (!starTree.getConfig().getMetricNames().contains(metric)) {
    throw new IllegalArgumentException("No metric " + metric + " in collection "+ collection);
  }
  StarTreeQuery query=createQueryBuilder(starTree,uriInfo).setTimeRange(start,end).build();
  List<StarTreeRecord> timeSeries=starTree.getTimeSeries(query);
  Result result=new Result();
  result.setTimeSeries(convertTimeSeries(metric,timeSeries));
  result.setDimensionValues(query.getDimensionValues());
  return result;
}
