{
  SortedSet<Map.Entry<K,V>> sortedEntries=new TreeSet<Map.Entry<K,V>>(new Comparator<Map.Entry<K,V>>(){
    @Override public int compare(    Map.Entry<K,V> e1,    Map.Entry<K,V> e2){
      int res=e2.getValue().compareTo(e1.getValue());
      return res != 0 ? res : 1;
    }
  }
);
  sortedEntries.addAll(map.entrySet());
  return sortedEntries;
}
