{
  int timeSize=Integer.valueOf(functionConfig.getProperty(PROP_TIME_SIZE));
  TimeUnit timeUnit=TimeUnit.valueOf(functionConfig.getProperty(PROP_TIME_UNIT));
  timeGranularity=new TimeGranularity(timeSize,timeUnit);
  metricName=functionConfig.getProperty(PROP_METRIC_NAME);
  for (  MetricSpec metricSpec : starTreeConfig.getMetrics()) {
    if (metricSpec.getName().equals(metricName)) {
      metricType=metricSpec.getType();
      metricThreshold=NumberUtils.valueOf(functionConfig.getProperty(PROP_METRIC_THRESHOLD),metricSpec.getType());
    }
  }
  if (metricThreshold == null) {
    throw new IllegalStateException("Unrecognized metric " + metricName);
  }
}
