{
  if (dimensionValues == null || dimensionGroups == null) {
    return null;
  }
  ArrayListMultimap<String,String> map=ArrayListMultimap.create();
  for (  String key : dimensionValues.keySet()) {
    Collection<String> values=dimensionValues.get(key);
    if (values != null && values.size() == 1 && ThirdEyeRequest.GROUP_BY_VALUE.equals(values.iterator().next())) {
      continue;
    }
    Multimap<String,String> valueMapping=null;
    if (dimensionGroups != null) {
      valueMapping=dimensionGroups.get(key);
    }
    for (    String value : values) {
      if (valueMapping != null && valueMapping.containsValue(value)) {
        Collection<String> groupValues=valueMapping.get(value);
        if (groupValues != null) {
          map.putAll(key,groupValues);
        }
      }
 else {
        map.put(key,value);
      }
    }
  }
  return map;
}
