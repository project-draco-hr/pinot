{
  TimeRange timeRange=new TimeRange(0L,3L);
  ConcurrentMap<TimeRange,List<ByteBuffer>> metricBuffers=new ConcurrentHashMap<TimeRange,List<ByteBuffer>>();
  metricBuffers.put(timeRange,Arrays.asList(generateBuffer(timeRange)));
  MetricStoreImmutableImpl deleteMetricStore=new MetricStoreImmutableImpl(config,metricBuffers);
  MetricTimeSeries timeSeries=deleteMetricStore.getTimeSeries(getLogicalOffsets(0),new TimeRange(0L,0L));
  Assert.assertEquals(timeSeries.getMetricSums(),new Number[]{1});
  deleteMetricStore.notifyDelete(timeRange);
  timeSeries=deleteMetricStore.getTimeSeries(getLogicalOffsets(0),new TimeRange(0L,0L));
  Assert.assertEquals(timeSeries.getMetricSums(),new Number[]{0});
}
