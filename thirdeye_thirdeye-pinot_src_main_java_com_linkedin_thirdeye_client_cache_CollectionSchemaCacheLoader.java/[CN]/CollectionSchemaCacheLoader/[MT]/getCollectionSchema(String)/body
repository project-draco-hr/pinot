{
  CollectionSchema collectionSchema=null;
  collectionSchema=collectionSchemaDAO.findById(collection);
  if (collectionSchema == null) {
    Schema schema=ThirdEyeCacheRegistry.getInstance().getSchemaCache().get(collection);
    List<DimensionSpec> dimSpecs=fromDimensionFieldSpecs(schema.getDimensionFieldSpecs());
    List<MetricSpec> metricSpecs=fromMetricFieldSpecs(schema.getMetricFieldSpecs());
    TimeSpec timeSpec=fromTimeFieldSpec(schema.getTimeFieldSpec(),null);
    CollectionSchema config=new CollectionSchema.Builder().setCollection(collection).setDimensions(dimSpecs).setMetrics(metricSpecs).setTime(timeSpec).build();
    return config;
  }
  return collectionSchema;
}
