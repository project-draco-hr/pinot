{
  List<MetricFunction> metricFunctions=new ArrayList<>();
  if (StringUtils.isBlank(dashboardId) && StringUtils.isBlank(metricsJson)) {
    DashboardConfig dashboardConfig=configDAO.findById(collection,DEFAULT_DASHBOARD);
    metricFunctions.add(new MetricFunction(MetricFunction.SUM,"__COUNT"));
  }
 else   if (StringUtils.isNotBlank(metricsJson)) {
    ArrayList<String> metrics=OBJECT_MAPPER.readValue(metricsJson,new TypeReference<ArrayList<String>>(){
    }
);
    for (    String metric : metrics) {
      metricFunctions.add(new MetricFunction(MetricFunction.SUM,metric));
    }
  }
 else {
    DashboardConfig dashboardConfig=configDAO.findById(collection,dashboardId);
    metricFunctions.add(new MetricFunction(MetricFunction.SUM,"__COUNT"));
  }
  return metricFunctions;
}
