{
  if (node.isLeaf()) {
    collector.addAll(node.getRecordStore().getDimensionValues(groupByDimension));
  }
 else   if (node.getChildDimensionName().equals(groupByDimension)) {
    for (    StarTreeNode child : node.getChildren()) {
      collector.add(child.getDimensionValue());
    }
    collector.add(StarTreeConstants.OTHER);
  }
 else   if (dimensionValues == null || dimensionValues.get(node.getChildDimensionName()) == null) {
    getGroupByValues(node.getStarNode(),groupByDimension,dimensionValues,collector);
  }
 else {
    boolean includeOther=false;
    Collection<String> values=dimensionValues.get(node.getChildDimensionName());
    for (    String value : values) {
      StarTreeNode child=node.getChild(value);
      if (child == null) {
        includeOther=true;
      }
 else {
        getGroupByValues(child,groupByDimension,dimensionValues,collector);
      }
    }
    if (includeOther) {
      getGroupByValues(node.getOtherNode(),groupByDimension,dimensionValues,collector);
    }
  }
}
