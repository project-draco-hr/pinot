{
  this.numOfBitsPerElement=numOfBitsPerElement;
  capacity=numOfElements;
  long requiredBufferSize=getRequiredBufferSize(numOfElements,numOfBitsPerElement);
  assert(requiredBufferSize <= Integer.MAX_VALUE);
  buf=ByteBuffer.allocateDirect((int)requiredBufferSize);
  tempBuf=getByteBuf();
}
