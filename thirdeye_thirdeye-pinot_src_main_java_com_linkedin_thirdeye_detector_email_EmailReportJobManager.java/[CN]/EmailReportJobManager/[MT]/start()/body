{
synchronized (sync) {
    List<EmailConfiguration> emailConfigs=configurationDAO.findAll();
    for (    EmailConfiguration emailConfig : emailConfigs) {
      if (emailConfig.getIsActive()) {
        String triggerKey=String.format("email_trigger_%d",emailConfig.getId());
        CronTrigger trigger=TriggerBuilder.newTrigger().withIdentity(triggerKey).withSchedule(CronScheduleBuilder.cronSchedule(emailConfig.getCron())).build();
        String jobKey=String.format("email_job_%d",emailConfig.getId());
        jobKeys.put(jobKey,emailConfig);
        buildAndScheduleJob(emailConfig,trigger,jobKey);
      }
    }
  }
}
