{
  Preconditions.checkNotNull(destArray);
  Preconditions.checkArgument(srcOffset >= 0);
  Preconditions.checkArgument(destOffset >= 0);
  Preconditions.checkArgument(size >= 0);
  Preconditions.checkArgument(destOffset + size <= destArray.length);
  Preconditions.checkArgument(size <= size() - srcOffset);
  int bufIndex=bufferIndex(srcOffset);
  int bufOffset=bufferOffset(srcOffset);
  int pendingBytes=size;
  while (pendingBytes > 0) {
    ByteBuffer bb=buffers[bufIndex].duplicate();
    bb.position(bufOffset);
    int bytesToCopy=Math.min(size,(segmentSize - bufOffset));
    bb.get(destArray,destOffset,bytesToCopy);
    destOffset+=bytesToCopy;
    bufOffset=0;
    pendingBytes-=bytesToCopy;
    ++bufIndex;
  }
}
