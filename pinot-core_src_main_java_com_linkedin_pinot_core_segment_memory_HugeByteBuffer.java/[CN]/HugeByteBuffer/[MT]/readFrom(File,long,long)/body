{
  Preconditions.checkNotNull(this.buffers);
  Preconditions.checkState(size() >= (length - startPosition));
  RandomAccessFile raf=new RandomAccessFile(file,"r");
  FileChannel fileChannel=raf.getChannel();
  int bufIndex=bufferIndex(0);
  int bufPosition=bufferOffset(0);
  while (length > 0) {
    ByteBuffer bb=buffers[bufIndex];
    bb.position(bufPosition);
    fileChannel.position(startPosition);
    int toCopy=(int)Math.min(length,bb.remaining());
    fileChannel.read(bb);
    if (length == toCopy) {
      break;
    }
    startPosition+=(toCopy - extension);
    length-=(toCopy - extension);
    bufPosition=0;
    ++bufIndex;
  }
}
