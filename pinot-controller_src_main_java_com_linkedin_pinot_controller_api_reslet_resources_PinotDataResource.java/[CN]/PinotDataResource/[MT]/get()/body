{
  StringRepresentation presentation=null;
  try {
    final String resourceName=(String)getRequest().getAttributes().get("resourceName");
    if (resourceName == null) {
      final JSONObject ret=new JSONObject();
      final JSONArray retArray=new JSONArray();
      for (      final String resource : manager.getAllResourceNames()) {
        retArray.put(resource);
      }
      ret.put("resources",retArray);
      presentation=new StringRepresentation(ret.toString());
    }
 else {
      presentation=new StringRepresentation(manager.getDataResource(resourceName).toJSON().toString());
    }
  }
 catch (  final Exception e) {
    logger.error(e);
  }
  return presentation;
}
