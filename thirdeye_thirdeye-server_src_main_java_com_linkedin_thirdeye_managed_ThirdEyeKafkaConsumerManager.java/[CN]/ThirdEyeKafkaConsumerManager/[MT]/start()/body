{
synchronized (kafkaConsumers) {
    File[] collectionDirs=rootDir.listFiles();
    if (collectionDirs != null) {
      boolean startedOne=false;
      for (      File collectionDir : collectionDirs) {
        File kafkaFile=new File(collectionDir,StarTreeConstants.KAFKA_CONFIG_FILE_NAME);
        if (kafkaFile.exists()) {
          start(collectionDir.getName());
          startedOne=true;
        }
 else {
          LOGGER.warn("No kafka.yml for {}, will not start",collectionDir.getName());
        }
      }
      if (startedOne) {
        LOGGER.info("Started all kafka consumers");
      }
    }
  }
}
