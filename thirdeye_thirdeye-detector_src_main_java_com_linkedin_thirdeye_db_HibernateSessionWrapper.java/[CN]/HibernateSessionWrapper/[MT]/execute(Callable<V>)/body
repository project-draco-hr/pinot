{
  Session session=sessionFactory.openSession();
  Transaction transaction=session.beginTransaction();
  try {
    ManagedSessionContext.bind(session);
    V result=callable.call();
    transaction.commit();
    return result;
  }
 catch (  Exception e) {
    transaction.rollback();
    throw e;
  }
 finally {
    session.close();
    ManagedSessionContext.unbind(sessionFactory);
  }
}
