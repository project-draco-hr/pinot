{
  final PropertiesConfiguration brokerConfiguration=new PropertiesConfiguration();
  brokerConfiguration.addProperty("pinot.broker.transport.routingMode","CONFIG");
  brokerConfiguration.addProperty("pinot.broker.transport.routing.resourceName",StringUtils.join(RESOURCE_NAMES,","));
  for (  final String resource : RESOURCE_NAMES) {
    brokerConfiguration.addProperty(getKey("pinot.broker.transport.routing",resource,"numNodesPerReplica"),"1");
    brokerConfiguration.addProperty(getKey("pinot.broker.transport.routing",resource,"serversForNode.0"),"localhost:" + SERVER_PORT);
    brokerConfiguration.addProperty(getKey("pinot.broker.transport.routing",resource,"serversForNode.default"),"localhost:" + SERVER_PORT);
  }
  brokerConfiguration.addProperty("pinot.broker.client.enableConsole","true");
  brokerConfiguration.addProperty("pinot.broker.client.queryPort",BROKER_CLIENT_PORT);
  brokerConfiguration.addProperty("pinot.broker.client.consolePath","dont/need/this");
  brokerConfiguration.setDelimiterParsingDisabled(false);
  return brokerConfiguration;
}
