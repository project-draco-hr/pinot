{
  LOG.info(Thread.currentThread().getId() + " : Starting updateStatus {}",Thread.currentThread().getId());
  Session session=sessionFactory.openSession();
  ManagedSessionContext.bind(session);
  Transaction transaction=null;
  try {
    transaction=session.beginTransaction();
    boolean updateStatus=anomalyTaskSpecDAO.updateStatus(taskId,oldStatus,newStatus);
    LOG.info(Thread.currentThread().getId() + " : update status {}",updateStatus);
    if (!transaction.wasCommitted()) {
      transaction.commit();
    }
  }
 catch (  Exception e) {
    if (transaction != null) {
      transaction.rollback();
    }
  }
 finally {
    session.close();
    ManagedSessionContext.unbind(sessionFactory);
  }
}
