{
  Map<String,List<String>> fixedDimensions=new HashMap<>();
  fixedDimensions.put("apples",new ArrayList<String>(Arrays.asList("a","b","c","d")));
  fixedDimensions.put("oranges",new ArrayList<String>(Arrays.asList("x","y","z")));
  fixedDimensions.put("pears",new ArrayList<String>(Arrays.asList("1","2")));
  fixedDimensions.put("berries",new ArrayList<String>(Arrays.asList("*","%","&","(",")")));
  int expectedCount=1;
  for (  List<String> value : fixedDimensions.values()) {
    expectedCount*=value.size();
  }
  FixedDimensionIterator it=new FixedDimensionIterator(fixedDimensions);
  Set<String> seen=new HashSet<>();
  int count=0;
  while (it.hasNext()) {
    Map<String,String> curr=it.next();
    StringBuilder sb=new StringBuilder();
    sb.append("[");
    for (    Entry<String,String> kv : curr.entrySet()) {
      sb.append(kv.getKey() + "=" + kv.getValue()+ ",");
    }
    sb.append("]");
    LOGGER.info(sb.toString());
    Assert.assertFalse(seen.contains(sb.toString()));
    count++;
  }
  Assert.assertEquals(expectedCount,count);
}
