{
  for (  ThirdEyeTimeSeries timeSeries : result) {
    MetricSpec metricSpec=null;
    for (    MetricSpec ms : starTree.getConfig().getMetrics()) {
      if (ms.getName().equals(timeSeries.getLabel())) {
        metricSpec=ms;
        break;
      }
    }
    if (metricSpec == null) {
      throw new IllegalStateException("Could not find metric " + timeSeries.getLabel());
    }
    if (!timeSeries.getData().isEmpty()) {
      Double baseline=null;
      for (      List<Number> point : timeSeries.getData()) {
        if (!NumberUtils.isZero(point.get(1),metricSpec.getType())) {
          baseline=point.get(1).doubleValue();
          break;
        }
      }
      if (baseline != null) {
        for (        List<Number> point : timeSeries.getData()) {
          point.set(1,point.get(1).doubleValue() / baseline);
        }
      }
    }
  }
}
