{
  ByteBuffer dictionaryBuffer=dictionarySegments.get(indexEntry.getFileId());
  if (dictionaryBuffer == null) {
    throw new IllegalStateException("No mapped buffer for file " + indexEntry.getFileId() + DICT_SUFFIX);
  }
  dictionaryBuffer.rewind();
  dictionaryBuffer.position(indexEntry.getDictionaryStartOffset());
  byte[] dictionaryBytes=new byte[indexEntry.getDictionaryLength()];
  dictionaryBuffer.get(dictionaryBytes);
  ObjectInputStream ois=new ObjectInputStream(new ByteArrayInputStream(dictionaryBytes));
  DimensionDictionary dictionary;
  try {
    dictionary=(DimensionDictionary)ois.readObject();
  }
 catch (  ClassNotFoundException e) {
    throw new IOException(e);
  }
  return dictionary;
}
