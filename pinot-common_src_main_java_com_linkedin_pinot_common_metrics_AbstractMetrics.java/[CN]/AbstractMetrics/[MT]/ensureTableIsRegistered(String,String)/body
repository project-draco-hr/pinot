{
  final String completeResourceName=resourceName + "." + tableName;
synchronized (registeredTables) {
    if (!registeredTables.contains(completeResourceName)) {
      registeredTables.add(completeResourceName);
      BrokerRequest dummyRequest=new BrokerRequest();
      QuerySource dummyQuerySource=new QuerySource();
      dummyRequest.setQuerySource(dummyQuerySource);
      dummyQuerySource.setResourceName(resourceName);
      dummyQuerySource.setTableName(tableName);
      QP[] queryPhases=getQueryPhases();
      for (      QP queryPhase : queryPhases) {
        final String fullTimerName=buildMetricName(dummyRequest,queryPhase.getQueryPhaseName());
        final MetricName metricName=new MetricName(_clazz,fullTimerName);
        MetricsHelper.newTimer(_metricsRegistry,metricName,TimeUnit.MILLISECONDS,TimeUnit.SECONDS);
      }
      M[] meters=getMeters();
      for (      M meter : meters) {
        if (!meter.isGlobal()) {
          addMeteredValue(dummyRequest,meter,0);
        }
      }
    }
  }
}
