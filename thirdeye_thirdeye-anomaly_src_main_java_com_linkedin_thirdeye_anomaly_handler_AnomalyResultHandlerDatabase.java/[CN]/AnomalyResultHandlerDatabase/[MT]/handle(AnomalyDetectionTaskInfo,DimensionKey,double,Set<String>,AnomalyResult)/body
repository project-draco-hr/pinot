{
  if (result.isAnomaly() == false) {
    return;
  }
  AnomalyTableRow row=new AnomalyTableRow();
  row.setFunctionTable(dbConfig.getFunctionTableName());
  row.setFunctionId(taskInfo.getFunctionId());
  row.setFunctionDescription(taskInfo.getFunctionDescription());
  row.setFunctionName(taskInfo.getFunctionName());
  row.setCollection(starTreeConfig.getCollection());
  row.setTimeWindow(result.getTimeWindow());
  row.setNonStarCount(dimensionKey.getDimensionValues().length - DimensionKeyUtils.getStarCount(dimensionKey));
  row.setDimensions(DimensionKeyUtils.toMap(starTreeConfig.getDimensions(),dimensionKey));
  row.setDimensionsContribution(dimensionKeyContribution);
  row.setMetrics(metrics);
  row.setAnomalyScore(result.getAnomalyScore());
  row.setAnomalyVolume(result.getAnomalyVolume());
  row.setProperties(result.getProperties());
  AnomalyTable.insertRow(dbConfig,row);
  loggerHandler.handle(taskInfo,dimensionKey,dimensionKeyContribution,metrics,result);
}
