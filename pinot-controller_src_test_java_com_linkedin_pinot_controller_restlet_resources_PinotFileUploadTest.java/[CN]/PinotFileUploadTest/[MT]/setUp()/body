{
  startZk();
  startController();
  ControllerRequestBuilderUtil.addFakeBrokerInstancesToAutoJoinHelixCluster(getHelixClusterName(),ZkTestUtils.DEFAULT_ZK_STR,5);
  ControllerRequestBuilderUtil.addFakeDataInstancesToAutoJoinHelixCluster(getHelixClusterName(),ZkTestUtils.DEFAULT_ZK_STR,5);
  final JSONObject payload=ControllerRequestBuilderUtil.buildCreateOfflineResourceJSON("mirror",2,2);
  sendPostRequest(ControllerRequestURLBuilder.baseUrl(CONTROLLER_BASE_API_URL).forResourceCreate(),payload.toString(),MediaType.APPLICATION_JSON,Status.SUCCESS_OK);
}
