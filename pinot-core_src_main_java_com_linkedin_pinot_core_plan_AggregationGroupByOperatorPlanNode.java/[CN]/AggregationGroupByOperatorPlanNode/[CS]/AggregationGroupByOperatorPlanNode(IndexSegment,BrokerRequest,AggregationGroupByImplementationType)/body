{
  _indexSegment=indexSegment;
  _brokerRequest=query;
  _aggregationGroupByImplementationType=aggregationGroupByImplementationType;
  _projectionPlanNode=new ProjectionPlanNode(_indexSegment,getAggregationGroupByRelatedColumns(),new DocIdSetPlanNode(_indexSegment,_brokerRequest,10000));
  for (int i=0; i < _brokerRequest.getAggregationsInfo().size(); ++i) {
    _aggregationFunctionGroupByPlanNodes.add(new AggregationFunctionGroupByPlanNode(_brokerRequest.getAggregationsInfo().get(i),_brokerRequest.getGroupBy(),_projectionPlanNode,_aggregationGroupByImplementationType));
  }
}
