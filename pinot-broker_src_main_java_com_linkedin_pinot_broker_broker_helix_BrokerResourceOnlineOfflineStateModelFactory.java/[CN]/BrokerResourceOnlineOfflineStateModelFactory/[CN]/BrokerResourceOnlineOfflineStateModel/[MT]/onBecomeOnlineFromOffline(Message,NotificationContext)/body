{
  try {
    LOGGER.info("BrokerResourceOnlineOfflineStateModel.onBecomeOnlineFromOffline() : " + message);
    String resourceName=message.getPartitionName();
    _helixExternalViewBasedRouting.markDataResourceOnline(resourceName,HelixHelper.getExternalViewForResouce(_helixManager.getClusterManagmentTool(),_helixManager.getClusterName(),resourceName));
  }
 catch (  Exception e) {
    LOGGER.error("Caught exception during OFFLINE -> ONLINE transition",e);
    Utils.rethrowException(e);
    throw new AssertionError("Should not reach this");
  }
}
