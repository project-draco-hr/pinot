{
  ExecutorService executorService=environment.lifecycle().executorService("starTreeManager").minThreads(Runtime.getRuntime().availableProcessors()).maxThreads(Runtime.getRuntime().availableProcessors()).build();
  StarTreeManager manager=new StarTreeManagerImpl(executorService);
  environment.jersey().register(new ThirdEyeMetricsResource(manager));
  environment.jersey().register(new ThirdEyeDimensionsResource(manager));
  environment.jersey().register(new ThirdEyeCollectionsResource(manager));
  environment.healthChecks().register(NAME,new ThirdEyeHealthCheck());
  environment.admin().addTask(new ThirdEyeLoadTask(manager,new File(config.getDataRoot())));
}
