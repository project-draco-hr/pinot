{
  ConnectorFactory connectorFactory=((DefaultServerFactory)config.getServerFactory()).getApplicationConnectors().get(0);
  int port;
  if (connectorFactory instanceof HttpConnectorFactory) {
    port=((HttpConnectorFactory)connectorFactory).getPort();
  }
 else {
    throw new IllegalArgumentException("Unrecognized connector factory " + connectorFactory);
  }
  return new InetSocketAddress(InetAddress.getLocalHost().getHostName(),port);
}
