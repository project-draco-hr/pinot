{
  BufferedWriter writer=new BufferedWriter(new OutputStreamWriter(outputStream));
  externalBuffer.mark();
  int[] currentDimensions=new int[dimensionNames.size()];
  long[] currentMetrics=new long[metricNames.size()];
  while (externalBuffer.position() < externalBuffer.limit()) {
    for (int i=0; i < dimensionNames.size(); i++) {
      currentDimensions[i]=externalBuffer.getInt();
    }
    writer.write(Arrays.toString(currentDimensions));
    writer.write(": ");
    for (int i=0; i < numTimeBuckets; i++) {
      long time=externalBuffer.getLong();
      for (int j=0; j < metricNames.size(); j++) {
        currentMetrics[j]=externalBuffer.getLong();
      }
      writer.write(Arrays.toString(currentMetrics));
      writer.write("@");
      writer.write(Long.toString(time));
      writer.write("\t");
    }
    writer.newLine();
  }
  externalBuffer.reset();
  writer.flush();
}
