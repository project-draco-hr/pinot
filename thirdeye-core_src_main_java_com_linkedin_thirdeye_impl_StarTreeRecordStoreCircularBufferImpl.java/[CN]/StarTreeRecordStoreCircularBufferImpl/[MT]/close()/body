{
synchronized (sync) {
    if (isOpen) {
      isOpen=false;
      buffer.force();
    }
  }
}
