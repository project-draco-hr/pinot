{
  LoginContext loginContext=new LoginContext("KrbLogin",new CallbackHandler(){
    @Override public void handle(    Callback[] callbacks) throws IOException, UnsupportedCallbackException {
      for (      Callback callback : callbacks) {
        if (callback instanceof NameCallback) {
          NameCallback nc=(NameCallback)callback;
          nc.setName(user);
        }
 else         if (callback instanceof PasswordCallback) {
          PasswordCallback pc=(PasswordCallback)callback;
          pc.setPassword(password.toCharArray());
        }
 else {
          throw new UnsupportedCallbackException(callback,"Unknown Callback");
        }
      }
    }
  }
);
  loginContext.login();
  return loginContext;
}
