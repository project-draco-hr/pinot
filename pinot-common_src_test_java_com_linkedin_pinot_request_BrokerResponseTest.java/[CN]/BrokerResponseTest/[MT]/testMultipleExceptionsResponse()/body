{
  BrokerResponse brokerResponse=BrokerResponse.getNullBrokerResponse();
  ProcessingException processingException=new ProcessingException(400);
  String errorMsgStr="Some random string!";
  processingException.setMessage(errorMsgStr);
  brokerResponse.addToExceptions(processingException);
  String brokerString=brokerResponse.toJson().toString();
  BrokerResponse newBrokerResponse=BrokerResponse.fromJson(new JSONObject(brokerString));
  System.out.println(newBrokerResponse);
  System.out.println(newBrokerResponse.getExceptions().get(0));
  Assert.assertEquals(newBrokerResponse.getExceptions().get(0).getErrorCode(),QueryException.BROKER_RESOURCE_MISSING_ERROR.getErrorCode());
  Assert.assertEquals(newBrokerResponse.getExceptions().get(0).getMessage(),"No table hit!");
  System.out.println(newBrokerResponse.getExceptions().get(1));
  Assert.assertEquals(newBrokerResponse.getExceptions().get(1).getErrorCode(),400);
  Assert.assertEquals(newBrokerResponse.getExceptions().get(1).getMessage(),errorMsgStr);
}
