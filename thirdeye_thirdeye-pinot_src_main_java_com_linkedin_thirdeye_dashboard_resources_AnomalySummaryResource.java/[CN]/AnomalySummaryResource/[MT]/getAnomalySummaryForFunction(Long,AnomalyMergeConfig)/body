{
  if (mergeConfig == null) {
    mergeConfig=new AnomalyMergeConfig();
  }
  if (functionId == null) {
    throw new IllegalArgumentException("Function id can't be null");
  }
  List<AnomalyResult> anomalies=resultDAO.findAllByTimeAndFunctionId(mergeConfig.getStartTime(),mergeConfig.getEndTime(),functionId);
  return AnomalySummaryGenerator.mergeAnomalies(anomalies,mergeConfig);
}
