{
  if (functionId == null) {
    throw new IllegalArgumentException("functionId can't be null");
  }
  if (startTime == null) {
    startTime=0l;
  }
  if (endTime == null) {
    endTime=System.currentTimeMillis();
  }
  List<AnomalyResult> anomalies=resultDAO.findAllByTimeAndFunctionId(new DateTime(startTime),new DateTime(endTime),functionId);
  AnomalyMergeConfig defaultMergeConfig=new AnomalyMergeConfig();
  return AnomalySummaryGenerator.mergeAnomalies(anomalies,defaultMergeConfig);
}
