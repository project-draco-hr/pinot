{
  Assert.assertTrue(bitmapIndexFile.exists());
  BitmapInvertedIndexReader reader=new BitmapInvertedIndexReader(bitmapIndexFile,cardinality,false);
  for (int i=0; i < cardinality; i++) {
    ImmutableRoaringBitmap bitmap=reader.getImmutable(i);
    Set<Integer> expected=postingListMap.get(i);
    Assert.assertEquals(bitmap.getCardinality(),expected.size());
    int[] actual=bitmap.toArray();
    List<Integer> actualList=Arrays.stream(actual).boxed().collect(Collectors.toList());
    Assert.assertEquals(actualList,expected);
  }
}
