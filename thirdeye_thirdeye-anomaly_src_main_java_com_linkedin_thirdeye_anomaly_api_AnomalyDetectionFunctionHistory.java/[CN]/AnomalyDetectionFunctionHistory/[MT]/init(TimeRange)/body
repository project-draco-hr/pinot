{
  functionHistory=ArrayListMultimap.create();
  try {
    List<AnomalyTableRow> anomalyTableRows=AnomalyTable.selectRows(dbConfig,functionId,queryTimeRange);
    for (    AnomalyTableRow anomalyTableRow : anomalyTableRows) {
      try {
        DimensionKey dimensionKey=dimensionKeyFromJson(starTreeConfig.getDimensions(),anomalyTableRow.getDimensions());
        functionHistory.put(dimensionKey,new AnomalyResult(true,anomalyTableRow.getTimeWindow(),anomalyTableRow.getAnomalyScore(),anomalyTableRow.getAnomalyVolume(),anomalyTableRow.getProperties()));
      }
 catch (      IOException e) {
        LOGGER.warn("malformed dimension key json string",e);
      }
    }
  }
 catch (  SQLException e) {
    LOGGER.error("could not select anomaly history",e);
  }
}
