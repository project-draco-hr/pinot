{
  MetricTimeSeries ts1=new MetricTimeSeries(metricSchema);
  ts1.set(0,"M",1000);
  StarTreeRecord first=new StarTreeRecordImpl.Builder().setDimensionKey(getDimensionKey("A1","B1","C1")).setMetricTimeSeries(ts1).build(config);
  recordStore.update(first);
  MetricTimeSeries ts2=new MetricTimeSeries(metricSchema);
  ts2.set(0,"M",1000);
  StarTreeRecord second=new StarTreeRecordImpl.Builder().setDimensionKey(getDimensionKey("A2","B2","C2")).setMetricTimeSeries(ts2).build(config);
  recordStore.update(second);
  for (  StarTreeRecord record : recordStore) {
    System.out.println(record);
  }
  Iterator<StarTreeRecord> itr=recordStore.iterator();
  Set<StarTreeRecord> fromStore=new HashSet<StarTreeRecord>();
  fromStore.add(itr.next());
  fromStore.add(itr.next());
  Assert.assertFalse(itr.hasNext());
  Assert.assertTrue(fromStore.contains(first));
  Assert.assertTrue(fromStore.contains(second));
}
