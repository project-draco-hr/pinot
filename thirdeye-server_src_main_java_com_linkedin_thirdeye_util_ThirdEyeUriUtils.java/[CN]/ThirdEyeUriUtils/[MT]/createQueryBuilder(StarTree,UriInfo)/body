{
  StarTreeQueryImpl.Builder builder=new StarTreeQueryImpl.Builder();
  for (  DimensionSpec dimensionSpec : starTree.getConfig().getDimensions()) {
    List<String> dimensionValues=uriInfo.getQueryParameters().get(dimensionSpec.getName());
    if (dimensionValues == null || dimensionValues.isEmpty()) {
      builder.setDimensionValue(dimensionSpec.getName(),StarTreeConstants.STAR);
    }
 else     if (dimensionValues.size() == 1) {
      builder.setDimensionValue(dimensionSpec.getName(),dimensionValues.get(0));
    }
 else {
      builder.setDimensionValue(dimensionSpec.getName(),StarTreeConstants.ALL);
    }
  }
  return builder;
}
