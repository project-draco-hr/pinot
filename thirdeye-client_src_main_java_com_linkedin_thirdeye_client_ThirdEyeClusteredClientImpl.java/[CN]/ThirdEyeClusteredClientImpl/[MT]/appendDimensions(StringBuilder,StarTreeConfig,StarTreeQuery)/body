{
  List<String> queryParts=new ArrayList<String>(query.getDimensionKey().getDimensionValues().length);
  for (int i=0; i < config.getDimensions().size(); i++) {
    String dimensionName=config.getDimensions().get(i).getName();
    String dimensionValue=query.getDimensionKey().getDimensionValues()[i];
    if (!StarTreeConstants.STAR.equals(dimensionValue)) {
      queryParts.add(EQUALS_JOINER.join(URLEncoder.encode(dimensionName,"UTF-8"),URLEncoder.encode(dimensionValue,"UTF-8")));
    }
  }
  if (!queryParts.isEmpty()) {
    sb.append(QUERY_SEPARATOR).append(AND_JOINER.join(queryParts));
  }
  return sb;
}
