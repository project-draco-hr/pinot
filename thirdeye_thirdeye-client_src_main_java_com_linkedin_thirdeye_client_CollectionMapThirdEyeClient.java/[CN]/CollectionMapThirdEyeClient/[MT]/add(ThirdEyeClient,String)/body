{
  this.needToInitializeClients=false;
  clients.add(client);
  HashMap<String,ThirdEyeClient> replacedMap=new HashMap<String,ThirdEyeClient>();
  for (  String collection : client.getCollections()) {
    String collectionKey=CollectionKey.getFullKey(collectionPrefix,collection);
    ThirdEyeClient replaced=this.put(collectionKey,client);
    this.collections.add(collectionKey);
    if (replaced != null) {
      replacedMap.put(collectionKey,replaced);
    }
  }
  return replacedMap;
}
